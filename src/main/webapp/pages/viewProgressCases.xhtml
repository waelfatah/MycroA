<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/template.xhtml">
	<ui:param name="page_name" value="Connexion" />
	<ui:define name="contentConnected">
		<div class="container">
		<div class="row">
			<div class="col-md-10 offset-md-1 col-lg-3 offset-lg-0">
				<div class="sidebar">
					<!-- User Widget -->
					<div class="widget user">
						<!-- User Image -->
						<div class="image d-flex justify-content-center">
							<img src="#{resource['images/user/user-thumb.jpg']}" alt="" class=""/>
						</div>
						<!-- User Name -->
						<h:outputText value="Welcome #{userController.c.usernameClient}" />
					</div>
					<!-- Dashboard Links -->
					<div class="widget user-dashboard-menu">
						<ul>
							<li>
								<h:link outcome="/pages/profile" class="nav-link"><i class="fa fa-user"></i>&#160; My profile</h:link>
							</li>
							<li class="active">
								<h:link outcome="/pages/viewProgressCases" class="nav-link"><i class="fa fa-file-archive-o"></i>&#160; My Cases<span>#{caseController.getCountCasesPerEmployee()}</span></h:link>
							</li>
							<li>
								<h:link outcome="/pages/viewAllCreditFront" value="" class="nav-link"><i class="fa fa-money" aria-hidden="true"></i>&#160; My Credit<span>#{creditController.getCountCreditPerUser()}</span></h:link>
							</li>
						</ul>
					</div>
				</div>
				</div>
				
				<div class="col-md-10 offset-md-1 col-lg-9 offset-lg-0">
				<!-- Edit Personal Info -->
				<div class="row">
					<a style="display:none;">#{caseController.showAllCasesByClient()}</a>
					<div class="col-lg-12 col-md-12">
						<div class="widget personal-info">
							<h3 class="widget-header user">List of My Cases</h3>
							<h:dataTable value="#{caseController.casesInsurance}" var="case"
							border="1" class="table table-bordered" id="dataTable"
							width="100%" cellspacing="0">
							<h:column>
								<f:facet name="header">
									<h:outputText value="Type of Claim" />
								</f:facet>
								<h:outputText value="#{case.fkClaim.claimType}" />
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Treated By" />
								</f:facet>
								<h:outputText value="#{case.fkEmployee.fNameEmployee}" />
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Date of Claim" />
								</f:facet>
								<h:outputText value="#{case.fkClaim.claimDate}" />
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Benefits" />
								</f:facet>
								<h:outputText value="#{case.benefits}" />
							</h:column>
							
							<h:column>
								<f:facet name="header">
									<h:outputText value="Progression" />
								</f:facet>
								<div class="progress">
								  <div class="progress-bar" role="progressbar" aria-valuenow="#{caseController.progressionValue(case)}"
								  aria-valuemin="0" aria-valuemax="100" style="width:#{caseController.progressionValue(case)}%">
								    #{caseController.progressionValue(case)}%
								  </div>
								</div>
							</h:column>
							</h:dataTable>
							
							
							
						</div>
					</div>
					<div class="col-lg-6 col-md-6">
					</div>
				</div>
			</div>
		
				</div>
				</div>
				</ui:define>
				</ui:composition>